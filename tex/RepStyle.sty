\usepackage[utf8]{inputenc}
\usepackage[margin=1.5in]{geometry}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage[inline]{enumitem}
\usepackage{indentfirst}
\usepackage{mathrsfs}
\usepackage[hidelinks]{hyperref}
\usepackage{graphicx}
\usepackage{tikz-cd}
\usepackage{tikz}
\usepackage{ifthen}
\usepackage{ytableau}
\usepackage{xcolor}
\usepackage{adjustbox}
\usepackage[square,super]{natbib}
\usepackage[font=small,labelfont=bf]{caption}

% ugly macros for crossingless matchings
% if you ever need to use these, message me
\usetikzlibrary{calc}
\newcommand\Matching[2]{%
  \begin{tikzpicture}
    \draw(1/2,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2,0)circle[radius=.5mm];
    }
      \foreach \x/\y in {#2} {
         \draw(\x/2,0) to[bend left=90] (\y/2,0);
    }
  \end{tikzpicture}}
\newcommand\GeneralizedMatching[5]{
  \def\GMOffset{#1/4-#3/4}
  \begin{tikzpicture}
    \draw(1/2,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2,0)circle[radius=.5mm];
    }
      \foreach \x/\y in {#2} {
         \draw(\x/2,0) to[bend left=90] (\y/2,0);
    }


    \foreach \x in {1,...,#3}{
      \draw[circle,fill] (\x/2+\GMOffset,#5) circle[radius=.5mm];
    }
    \foreach \x/\y in {#4} {
      \draw(\x/2,0) to (\y/2+\GMOffset,#5);
    }
  \end{tikzpicture}
}

% Nat's macros for convenience
\def\NN{\mathbb{N}}
\def\CC{\mathbb{C}}
\def\FF{\mathbb{F}}
\def\QQ{\mathbb{Q}}
\newcommand{\abs}[1]{\left| #1 \right|}
\newcommand{\prn}[1]{\left( #1 \right)}
\newcommand{\brk}[1]{\left[ #1 \right]}
\newcommand{\cbr}[1]{\left\{ #1 \right\}}
\newcommand{\nrm}[1]{\left\| #1 \right\|}
\newcommand{\txt}[2]{\text{#1} \prn{#2}}
\newcommand{\id}[1]{\text{id}_{#1}}
\def\SH{\mathscr{H}}

\def\Tr{\text{Tr}}
\def\ker{\text{ker}}
\def\ima{\text{im}}
\def\dim{\text{dim}}
\def\Res{\text{Res}}
\def\Span{\text{Span}}
\def\End{\text{End}}
\def\Ind{\text{Ind}}
\def\GL{\text{GL}}
\def\soc{\text{soc}}
\newcommand{\Hom}[1]{\txt{Hom}{#1}}
\newcommand{\Homarg}[2]{\text{Hom}_{#1}\prn{#2}}
\newcommand{\Mod}[1]{\text{Mod}_{#1}}

\def\emptyset{\varnothing}
\def\meet{\wedge}
\def\join{\vee}

% set indentation length
\setlength\parindent{24pt}
% set the head height
\setlength\headheight{15pt}

% generic theorem labels; numbering by section, unnumbered are *, definitions are definition style.
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem*{theorem*}{Theorem}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{corollary*}{Corollary}
\newtheorem*{claim*}{Claim}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem*{definition*}{Definition}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}

% Equation numbers are tagged by section
\numberwithin{equation}{section}

% #1 is size, #2 is 
\newcommand\ENRGrid[2]{
  \def\size{.6}
  \begin{tikzpicture}
    \foreach \n/\m/\col in {#2}{
      \node[fill=magenta!30!white, minimum width=\size cm,minimum height=\size cm] at (\n*\size,\m*\size) {};
    }
    \foreach \x/\y in {#1}{
      \node at (-.5*\size,\y*\size/2+\size/2) {\Huge $n$};
      \node at (\x*\size/2+\size/2,-.5*\size) {\Huge $r$};
      
      
      \foreach \c in {1,\y}{
        \node at (\size-.5,\c*\size) {\scriptsize \c}; 
      }
      
      \foreach \r in {1,\x}{
        \pgfmathtruncatemacro{\dif}{\r-1}
        \node at (\r*\size,\size-.5) {\scriptsize \dif}; 
      }

      \draw (.5*\size,.5*\size) rectangle (\size*\x+.5*\size,\size*\y+.5*\size);
      \foreach \r in {1,...,\x}{
        \pgfmathtruncatemacro{\dt}{\r/2+1/2}
        \foreach \c in {1,...,\dt}{
          \pgfmathtruncatemacro{\sum}{\x-\r+\c+1}
          \node[draw, very thin, dotted,minimum width=\size cm, minimum height = \size cm] at (\x*\size-\r*\size+\size,\c*\size) {\scriptsize \sum};
        }
      }
    }
  \end{tikzpicture}
}
