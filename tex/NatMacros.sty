\newcommand\IsoAction[5]{%
  \begin{tikzpicture}
    \draw[dotted](1/2,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2,0)circle[radius=.1mm];
    }
    \foreach \x/\y in {#2} {
         \draw(\x/2,0) to[bend left=90] (\y/2,0);
    }

    

    \pgfmathtruncatemacro{\tmo}{#3-1}
    \pgfmathtruncatemacro{\tmt}{#3-2}
    \pgfmathtruncatemacro{\omo}{#1-1}
    \pgfmathtruncatemacro{\omt}{#1-2}
    \pgfmathtruncatemacro{\omth}{#1-3}
    \ifnum #3 > 2{
    \foreach \x in {1,...,\tmt}{
        \draw(\x/2,-3/5) to (\x/2,0);         
      }
    }\fi

    \ifnum #3 < \omt{
      \foreach \x in {#3,...,\omo}{
        \draw(\x/2+1/2,-3/5) to (\x/2+1/2,0);
      }
    }\fi

    \ifnum #3 >1 {
    \foreach \x in {1,...,#3}{
        \draw(\x/2,-6/5) to (\x/2,-3/5);         
      }
    }\fi

    \ifnum #3 <\omt{
      \foreach \x in {#3,...,\omth}{
        \draw(\x/2+3/2,-6/5) to (\x/2+3/2,-3/5);
      }
    }\fi

    \ifnum #3 > 1{
    \foreach \x in {1,...,\tmo}{
        \draw(\x/2,-9/5) to (\x/2,-6/5);         
      }
    }\fi

    \ifnum #3 < \omo{
      \foreach \x in {#3,...,\omt}{
        \draw(\x/2+1,-9/5) to (\x/2+1,-6/5);
      }
    }\fi

    \draw(#3/2,0) arc[radius=1/4, start angle=0, end angle=-180];
    \draw(#3/2 - 1/2,-3/5) arc[radius=1/4, start angle=180, end angle=0];
    \draw(#3/2 + 1,-3/5) arc[radius=1/4, start angle=0, end angle=-180];
    \draw(#3/2+1/2,-6/5) arc[radius=1/4, start angle=180, end angle=0];
    \draw(#3/2 + 1/2,-6/5) arc[radius=1/4, start angle=0, end angle=-180];
    \draw(#3/2,-9/5) arc[radius=1/4, start angle=180, end angle=0];
    \draw[->] (#1/2 + 1/2,0) to (#1/2 + 1,0);

    \def\offset{#1/2 + 2}
    \draw(1/2 + \offset,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2 + \offset,0)circle[radius=.5mm];
    }
    \foreach \x/\y in {#4} {
         \draw(\x/2 + \offset,0) to[bend left=90] (\y/2 + \offset,0);
    }

    \draw[left] (1/2,0) node  {$q^{-1}$};
    \draw[left] ( 1/2 - 1/8 + \offset,0) node  {$#5$};
  \end{tikzpicture}}
\newcommand\Action[5]{%
  \begin{tikzpicture}
    \draw[dotted](1/2,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2,0)circle[radius=.1mm];
    }
    \foreach \x/\y in {#2} {
         \draw(\x/2,0) to[bend left=90] (\y/2,0);
    }
    
    \pgfmathtruncatemacro{\s}{#3-1}
    \ifnum #3 > 1{
    \foreach \x in {1,...,\s}{
        \draw(\x/2,-3/5) to (\x/2,0);         
      }
    }\fi

    \pgfmathtruncatemacro{\s}{#1-2}
    \pgfmathtruncatemacro{\t}{#1-1}
    \ifnum #3 < \t{
      \foreach \x in {#3,...,\s}{
        \draw(\x/2+1,-3/5) to (\x/2+1,0);
      }
    }\fi
    
    \draw(#3/2 + 1/2,0) arc[radius=1/4, start angle=0, end angle=-180];
    \draw(#3/2,-3/5) arc[radius=1/4, start angle=180, end angle=0];
  
    \draw[->] (#1/2 + 1/2,0) to (#1/2 + 1,0);

    \def\offset{#1/2 + 2}
    \draw(1/2 + \offset,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2 + \offset,0)circle[radius=.5mm];
    }
    \foreach \x/\y in {#4} {
         \draw(\x/2 + \offset,0) to[bend left=90] (\y/2 + \offset,0);
    }

    \draw[left] ( 1/2 - 1/8 + \offset,0) node  {$#5$};
  \end{tikzpicture}}
\newcommand\NAction[5]{
  \begin{tikzpicture}
    \draw[dotted](1/2,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2,0)circle[radius=.1mm];
    }
    \foreach \x/\y in {#2} {
         \draw(\x/2,0) to[bend left=90] (\y/2,0);
    }
    
    \foreach \n/\m in {#3}{
      \pgfmathtruncatemacro{\t}{\n-1}
      \ifnum \n > 1{
      \foreach \x in {1,...,\t}{
          \draw(\x/2,-3/5*\m) to (\x/2,-3/5*\m+3/5);         
        }
      }\fi

      \pgfmathtruncatemacro{\s}{#1-2}
      \pgfmathtruncatemacro{\t}{#1-1}
      \ifnum \n < \t{
        \foreach \x in {\n,...,\s}{
          \draw(\x/2+1,-3/5*\m) to (\x/2+1,-3/5*\m+3/5);
        }
      }\fi
      \draw(\n/2 + 1/2,-3/5*\m+3/5) arc[radius=1/4, start angle=0, end angle=-180];
      \draw(\n/2,-3/5*\m) arc[radius=1/4, start angle=180, end angle=0];
    }
  
    \draw[->] (#1/2 + 1/2,0) to (#1/2 + 1,0);

    \def\offset{#1/2 + 2}
    \draw(1/2 + \offset,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2 + \offset,0)circle[radius=.5mm];
    }
    \foreach \x/\y in {#4} {
         \draw(\x/2 + \offset,0) to[bend left=90] (\y/2 + \offset,0);
    }

    \draw[left] ( 1/2 - 1/8 + \offset,0) node  {$#5$};
  \end{tikzpicture}}

\newcommand\EmptyNAction[2]{
  \begin{tikzpicture}
    \foreach \n/\m in {#2}{
      \pgfmathtruncatemacro{\t}{\n-1}
      \ifnum \n > 1{
      \foreach \x in {1,...,\t}{
          \draw(\x/2,-3/5*\m) to (\x/2,-3/5*\m+3/5);         
        }
      }\fi

      \pgfmathtruncatemacro{\s}{#1-2}
      \pgfmathtruncatemacro{\t}{#1-1}
      \ifnum \n < \t{
        \foreach \x in {\n,...,\s}{
          \draw(\x/2+1,-3/5*\m) to (\x/2+1,-3/5*\m+3/5);
        }
      }\fi
      \draw(\n/2 + 1/2,-3/5*\m+3/5) arc[radius=1/4, start angle=0, end angle=-180];
      \draw(\n/2,-3/5*\m) arc[radius=1/4, start angle=180, end angle=0];
    }
  \end{tikzpicture}}
  
\newcommand\GeneralizedAction[9]{
  \def\GMOffset{#1/4-#3/4}
  \begin{tikzpicture}
    \draw[dotted](1/2,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2,0)circle[radius=.2mm];
     }
      \foreach \x/\y in {#2} {
         \draw(\x/2,0) to[bend left=90] (\y/2,0);
       }

    \foreach \x in {1,...,#3}{
      \draw[circle,fill] (\x/2+\GMOffset,#5) circle[radius=.2mm];
    }
    \foreach \x/\y in {#4} {
      \draw(\x/2,0) to (\y/2+\GMOffset,#5);
    }

    \def\XOffset{#1/2+2}
    \draw(1/2+\XOffset,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2+\XOffset,0)circle[radius=.5mm];
    }
      \foreach \x/\y in {#7} {
         \draw(\x/2+\XOffset,0) to[bend left=90] (\y/2+\XOffset,0);
    }

    \pgfmathtruncatemacro{\t}{#6-1}
    \ifnum #6 > 1{
      \foreach \x in {1,...,\t}{
        \draw(\x/2,-3/5) to (\x/2,0);         
      }
    }\fi

    \pgfmathtruncatemacro{\s}{#1-2}
    \pgfmathtruncatemacro{\t}{#1-1}
    \ifnum #6 < \t{
      \foreach \x in {#6,...,\s}{
        \draw(\x/2+1,-3/5) to (\x/2+1,0);
      }
    }\fi


    \foreach \x in {1,...,#3}{
      \draw[circle,fill] (\x/2+\GMOffset+\XOffset,#5) circle[radius=.5mm];
    }
    \foreach \x/\y in {#8} {
      \draw(\x/2+\XOffset,0) to (\y/2+\GMOffset+\XOffset,#5);
    }
    
    \draw(#6/2 + 1/2,0) arc[radius=1/4, start angle=0, end angle=-180];
    \draw(#6/2,-3/5) arc[radius=1/4, start angle=180, end angle=0];
    
    \draw[->] (#1/2 + 1/2,0) to (#1/2 + 1,0);

    \draw[left] ( 1/2 - 1/8 + \XOffset,0) node  {$#9$};
  
  \end{tikzpicture}
}
\newcommand\GeneralizedZeroAction[6]{
  \def\GMOffset{#1/4-#3/4}
  \begin{tikzpicture}
    \draw[dotted](1/2,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2,0)circle[radius=.2mm];
     }
      \foreach \x/\y in {#2} {
         \draw(\x/2,0) to[bend left=90] (\y/2,0);
       }

    \foreach \x in {1,...,#3}{
      \draw[circle,fill] (\x/2+\GMOffset,#5) circle[radius=.2mm];
    }
    \foreach \x/\y in {#4} {
      \draw(\x/2,0) to (\y/2+\GMOffset,#5);
    }

    
    \pgfmathtruncatemacro{\t}{#6-1}
    \ifnum #6 > 1{
    \foreach \x in {1,...,\t}{
        \draw(\x/2,-3/5) to (\x/2,0);         
      }
    }\fi
    
    \pgfmathtruncatemacro{\s}{#1-2}
    \pgfmathtruncatemacro{\t}{#1-1}
    \ifnum #6 < \t{
      \foreach \x in {#6,...,\s}{
        \draw(\x/2+1,-3/5) to (\x/2+1,0);
      }
    }\fi

    \draw(#6/2 + 1/2,0) arc[radius=1/4, start angle=0, end angle=-180];
    \draw(#6/2,-3/5) arc[radius=1/4, start angle=180, end angle=0];

    \draw[->] (#1/2 + 1/2,0) to (#1/2 + 1,0);

    \draw[right] (#1/2+5/4,0) node  {0};
  \end{tikzpicture}
}
\newcommand\GeneralizedNAction[9]{
  \def\GMOffset{#1/4-#3/4}
  \begin{tikzpicture}
    \draw[dotted](1/2,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2,0)circle[radius=.2mm];
     }
      \foreach \x/\y in {#2} {
         \draw(\x/2,0) to[bend left=90] (\y/2,0);
       }


    \foreach \x in {1,...,#3}{
      \draw[circle,fill] (\x/2+\GMOffset,#5) circle[radius=.2mm];
    }
    \foreach \x/\y in {#4} {
      \draw(\x/2,0) to (\y/2+\GMOffset,#5);
    }

    \def\XOffset{#1/2+2}
    \draw(1/2+\XOffset,0) -- ++ (#1/2-1/2,0);
    \foreach \x in {1,...,#1}{
       \draw[circle,fill] (\x/2+\XOffset,0)circle[radius=.5mm];
    }
      \foreach \x/\y in {#7} {
         \draw(\x/2+\XOffset,0) to[bend left=90] (\y/2+\XOffset,0);
    }
    
  
    \foreach \n/\m in {#6}{
      \ifnum \n > 1{
      \pgfmathtruncatemacro{\s}{\n-1}
        \foreach \x in {1,...,\s}{
          \draw(\x/2,-\m*3/5) to (\x/2,-\m*3/5+3/5);         
        }
        }\fi

      \pgfmathtruncatemacro{\s}{#1-2}
      \pgfmathtruncatemacro{\t}{#1-1}
      \ifnum \n < \t{
        \foreach \x in {\n,...,\s}{
          \draw(\x/2+1,-\m*3/5) to (\x/2+1,-\m*3/5+3/5);
        }
      }\fi
      
      \draw(\n/2 + 1/2,-\m*3/5+3/5) arc[radius=1/4, start angle=0, end angle=-180];
      \draw(\n/2,-\m*3/5) arc[radius=1/4, start angle=180, end angle=0];
    }

    \foreach \x in {1,...,#3}{
      \draw[circle,fill] (\x/2+\GMOffset+\XOffset,#5) circle[radius=.5mm];
    }
    \foreach \x/\y in {#8} {
      \draw(\x/2+\XOffset,0) to (\y/2+\GMOffset+\XOffset,#5);
    }
    
    
    \draw[->] (#1/2 + 1/2,0) to (#1/2 + 1,0);

    \draw[left] ( 1/2 - 1/8 + \XOffset,0) node  {$#9$};

  \end{tikzpicture}
}

